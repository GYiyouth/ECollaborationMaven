2017/02/19
项目重启

葛尧：
    配置完VO的domain层，以后，第一次部署，hibernate做了如下的事儿
    Hibernate: alter table application add column handledTime varchar(255)
    Hibernate: alter table code add column codeName varchar(255)
    Hibernate: alter table code add column row integer
    Hibernate: alter table code add column score integer
    Hibernate: alter table user add column newFlag integer not null
    Hibernate: alter table application add constraint FKk4id1rehqpdn878e8u29um1gd foreign key (affectedId) references user (id)
    Hibernate: alter table application add constraint FKoelm617iuji4r0hsq0rppmk6x foreign key (handlerId) references user (id)
    Hibernate: alter table application add constraint FKqgsjmywdw9r374opr6e7j2qiy foreign key (projectId) references project (id)
    Hibernate: alter table application add constraint FKlfr6mf7sc29ds2kfinvhg4tbo foreign key (teamId) references team (id)
    Hibernate: alter table code add constraint FK2yugv58ncb7r0msvfu9onq8yy foreign key (projectId) references project (id)
    Hibernate: alter table code add constraint FKeohm1lcf3c9ce50muhms0bfl6 foreign key (studentId) references student (id)
    Hibernate: alter table code add constraint FK1p4j4mr22qgseeepsoct4tfgd foreign key (teamId) references team (id)
    Hibernate: alter table manager add constraint FK31laakchgoo3qohp4cqgcgada foreign key (id) references user (id)
    Hibernate: alter table message add constraint FKtftdnurlvl7cb91bmxt1lcxy2 foreign key (senderId) references user (id)
    Hibernate: alter table notice add constraint FK1xgxorjc9ygrqy5y6oh4a87vd foreign key (creatorId) references user (id)
    Hibernate: alter table notice add constraint FK6j85pykynnamxympycw2cefvc foreign key (publishId) references user (id)
    Hibernate: alter table plan add constraint FK18qpk30w4ljueeaupdyna8u47 foreign key (creatorId) references student (id)
    Hibernate: alter table project add constraint FK5jmm1qh8iv6bijat9efglwefv foreign key (creatorId) references user (id)
    Hibernate: alter table project add constraint FK9jc7rps8ilfym0emytqqi1ldg foreign key (teacherId) references teacher (id)
    Hibernate: alter table student add constraint FKqytew32213tbnj8u0er377k3q foreign key (id) references user (id)
    Hibernate: alter table task add constraint FKnhshs3ns6p7h8dyj9o1e92eds foreign key (creatorId) references teacher (id)
    Hibernate: alter table teacher add constraint FKlicv62vmu1ydw117bbxqhkof1 foreign key (id) references user (id)
    Hibernate: alter table team add constraint FK156gyagdumedo0io0ndbdhivv foreign key (creatorId) references student (id)
    Hibernate: alter table code add constraint FKeohm1lcf3c9ce50muhms0bfl6 foreign key (studentId) references student (id)
    Hibernate: alter table manager add constraint FK31laakchgoo3qohp4cqgcgada foreign key (id) references user (id)
    Hibernate: alter table message add constraint FKtftdnurlvl7cb91bmxt1lcxy2 foreign key (senderId) references user (id)
    Hibernate: alter table student add constraint FKqytew32213tbnj8u0er377k3q foreign key (id) references user (id)
    Hibernate: alter table task add constraint FKnhshs3ns6p7h8dyj9o1e92eds foreign key (creatorId) references teacher (id)
    Hibernate: alter table team add constraint FK156gyagdumedo0io0ndbdhivv foreign key (creatorId) references student (id)
    完成了domian的VO的持久化配置，加了一堆外键，我把所有的外键的约束关系，都改成了 级联

    message_receiver表的readFlag被我改成了boolean类型，默认是FALSE
    message和receiver的关系做成双向N-N，关系实体再ManyToOne分别映射到这两个实体上，注意spring配置里，set那里要放空
        不然会产生循环依赖。
        现在的解决方式是，USerVO单端N-N映射到message，基于连接表。在操作时，只需要一个持久态的UserVO与MessageVO
        userVO.getMessageVOSet().add(messageVO);
        提交事务，连接表就会更新
    目前所有的bean均为scope="prototype"
    删除了teacher_project这张表，总结一下级联，顶层类的删除会影响下层类，任意层非主键的修改会影响其他层。
    teacher和project的关系改造完成
    project与task的设计，只能是单端映射，task依赖于project，不然的话就会发生循环依赖：project-task-teacher-project
        注意，task从spring context拿取后，一定要指明创建老师，不然存储的时候会向user表，teacher 表插入空白记录
    team与project双向N-N映射完成。但这个关系表还是要实例化
        关系表实例化完成
    原本没有配置utf-8，后来在链接后面加上 &amp;useUnicode=true&amp;characterEncoding=UTF-8 完成

    team与student的关系，team单向N-N依赖于student，双向1-N依赖于StudentTeamVO(取消，这种依赖完全没必要)
        StudentTeamVO单向N-1依赖于student与team
        将student_team的leaderFlag设置为了BOOLEAN类型(
            数据库会自动转换为tinyInt，存储-128～127之间的数，但只有1是true，只有0是false
            )
        如果student_team指向的id对应的不是学生或团队，那么这个对象就会是null，编程时应当注意
            NullPointerException


耿：
    记录日志功能，debug、info、warn、error分别放置tomcat下的logs的四个文件夹下面
